{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { initStore, initialCards, addItem } from '../store';\nimport withRedux from 'next-redux-wrapper';\nimport \"./index.css\";\nimport Card from \"./Card\";\n\nclass Index extends React.Component {\n  // how to initialize state in nextjs\n  // you can not use getInitialProps and getStaticProps together\n  static async getInitialProps({\n    store\n  }) {\n    console.log(\"getInitialProps\");\n    store.dispatch(initialCards());\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsx(\"header\", {\n        className: \"App-header\",\n        children: /*#__PURE__*/_jsx(\"img\", {\n          src: \"/static/logo.png\",\n          className: \"static-logo\"\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"Grid\",\n        children: this.props.cards.map(card => /*#__PURE__*/_jsx(Card, {}, card.id))\n      })]\n    });\n  }\n\n} // export async function getStaticProps() {\n//     // all these happens in the server\n//     // Perform network request\n//     const res = await fetch('https://api.github.com/repos/vercel/next.js')\n//     const json = await res.json()\n//     // this is printed on the servr's console\n//     // console.log(json)\n//     return { props: { cards: data } }\n// }\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    initialCards: bindActionCreators(initialCards, dispatch),\n    addItem: bindActionCreators(addItem, dispatch)\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    cards: state.cards\n  };\n};\n\nexport default withRedux(initStore, mapStateToProps, mapDispatchToProps)(Index);","map":null,"metadata":{},"sourceType":"module"}